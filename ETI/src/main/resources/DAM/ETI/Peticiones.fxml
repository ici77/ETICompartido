<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<?import javafx.scene.layout.AnchorPane?>

<AnchorPane prefHeight="600.0" prefWidth="800.0" style="-fx-background-color: #EADDFF; -fx-border-color: #4B0082; -fx-border-width: 5; -fx-border-radius: 10;" xmlns="http://javafx.com/javafx/22" xmlns:fx="http://javafx.com/fxml/1" fx:controller="DAMeti.PeticionesController">
    
    <!-- Título -->
    <Label layoutX="341.0" layoutY="22.0" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #4B0082;" text="Gestión de Peticiones" />
    
    <!-- Campo de búsqueda por ID -->
    <Label layoutX="50.0" layoutY="112.0" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #4B0082;" text="Buscar por ID:" />
    <TextField fx:id="searchIdField" layoutX="149.0" layoutY="109.0" prefWidth="150.0" />

    <!-- Botón de búsqueda -->
    <Button layoutX="320.0" layoutY="107.0" onAction="#buscarPorId" style="-fx-background-color: #4B0082; -fx-text-fill: white; -fx-font-size: 14px;" text="Buscar" />
 
    <!-- Tabla para mostrar las peticiones -->
    <TableView fx:id="tablaPeticiones" layoutX="50" layoutY="166.0" prefHeight="334.0" prefWidth="700.0">
        <columns>
            <TableColumn fx:id="colId" prefWidth="50.0" text="ID">
                <cellValueFactory>
                    <PropertyValueFactory property="id" />
                </cellValueFactory>
            </TableColumn>
            <TableColumn fx:id="colNombreAlumno" prefWidth="150.0" text="Nombre del Alumno">
                <cellValueFactory>
                    <PropertyValueFactory property="nombreAlumno" />
                </cellValueFactory>
            </TableColumn>
            <TableColumn fx:id="colCurso" prefWidth="100.0" text="Curso">
                <cellValueFactory>
                    <PropertyValueFactory property="curso" />
                </cellValueFactory>
            </TableColumn>
            <TableColumn fx:id="colIdLibro" prefWidth="100.0" text="ID Libro">
                <cellValueFactory>
                    <PropertyValueFactory property="idLibro" />
                </cellValueFactory>
            </TableColumn>
            <TableColumn fx:id="colTituloLibro" prefWidth="200.0" text="Título del Libro">
                <cellValueFactory>
                    <PropertyValueFactory property="tituloLibro" />
                </cellValueFactory>
            </TableColumn>
            <TableColumn fx:id="colIsbnLibro" prefWidth="150.0" text="ISBN del Libro">
                <cellValueFactory>
                    <PropertyValueFactory property="isbnLibro" />
                </cellValueFactory>
            </TableColumn>
            <TableColumn fx:id="colFechaPeticion" prefWidth="150.0" text="Fecha de Petición">
                <cellValueFactory>
                    <PropertyValueFactory property="fechaPeticion" />
                </cellValueFactory>
            </TableColumn>
            <TableColumn fx:id="colNumeroCopias" prefWidth="100.0" text="Número de Copias">
                <cellValueFactory>
                    <PropertyValueFactory property="numeroCopias" />
                </cellValueFactory>
            </TableColumn>
        </columns>
    </TableView>

   <Button fx:id="validarPrestamoButton" layoutX="357.0" layoutY="522.0" onAction="#handleValidarPrestamo" style="-fx-background-color: #4B0082; -fx-text-fill: white; -fx-font-size: 14px;" text="Validar Peticion" />

</AnchorPane>
